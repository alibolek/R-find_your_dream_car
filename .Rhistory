colorNumeric(input$colors, quakes$mag)
})
output$map <- renderLeaflet({
# Use leaflet() here, and only include aspects of the map that
# won't need to change dynamically (at least, not unless the
# entire map is being torn down and recreated).
leaflet(quakes) %>% addTiles() %>%
fitBounds(~min(long), ~min(lat), ~max(long), ~max(lat))
})
# Incremental changes to the map (in this case, replacing the
# circles when a new color is chosen) should be performed in
# an observer. Each independent set of things that can change
# should be managed in its own observer.
observe({
pal <- colorpal()
leafletProxy("map", data = filteredData()) %>%
clearShapes() %>%
addCircles(radius = ~10^mag/10, weight = 1, color = "#777777",
fillColor = ~pal(mag), fillOpacity = 0.7, popup = ~paste(mag)
)
})
# Use a separate observer to recreate the legend as needed.
observe({
proxy <- leafletProxy("map", data = quakes)
# Remove any existing legend, and only if the legend is
# enabled, create a new one.
proxy %>% clearControls()
if (input$legend) {
pal <- colorpal()
proxy %>% addLegend(position = "bottomright",
pal = pal, values = ~mag
)
}
})
}
shinyApp(ui, server)
shinyApp(ui, server)
leaflet() %>%
addGeoJSON(geodata) %>%
addCircles(-60, 60, radius = 5e5, layerId = "circle") %>%
fitBounds(-87.1875, 71.4131, 128.3203, 0.3515)
output$map1 <- renderLeaflet({
leaflet() %>%
addGeoJSON(geodata) %>%
addCircles(-60, 60, radius = 5e5, layerId = "circle") %>%
fitBounds(-87.1875, 71.4131, 128.3203, 0.3515)
})
shinyApp(
ui = fluidPage(
sliderInput(inputId = "time",
label = "Years Before Present:",
min = -50, max = 15000, value = 0, step = 500),
tags$div(title = "This input has a tool tip",
selectInput(inputId = "taxon",
label = "Taxon of Interest",
choices = sort(unique(pollen_subset$Taxon)))),
leafletOutput("MapPlot1")
),
server = function(input, output) {
output$MapPlot1 <- renderLeaflet({
leaflet() %>%
addProviderTiles("Stamen.Watercolor") %>%
setView(lng = -100, lat = 50, zoom = 2)
})
observe({
age <- input$time
taxon <- input$taxon
sites <- pollen_subset %>%
filter(findInterval(pollen_subset$Age, c(age - 250, age + 250)) == 1 &
pollen_subset$Taxon %in% taxon)
leafletProxy("MapPlot1") %>% clearMarkers() %>%
addCircleMarkers(lng = sites$Longitude,
lat = sites$Latitude,
opacity = sites$Pct)
})
},
options = list(height = 600)
)
setwd("/home/eray/Desktop/webMining")
cars.all <- read.csv("cars.csv")
names(cars.all)[2:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe")
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,2] <- as.character(cars.all[,2])
url <- "http://stackoverflow.com/questions/3746256/extract-links-from-webpage-using-r"
doc <- htmlParse(url)
library(htmlTreeParse)
install.packages("htmlTreeParse")
library(rvest)
library(XML)
pg <- htmlParse("http://www.bvl.com.pe/includes/empresas_todas.dat")
pg %>% html_nodes("a") %>% html_attr("href")
pg %>% html_nodes("a") %>% html_attr("href")
pg <- htmlParse("http://www.google.com")
pg %>% html_nodes("a") %>% html_attr("href")
library(xml2)
library(rvest)
URL <- "http://stackoverflow.com/questions/3746256/extract-links-from-webpage-using-r"
pg <- read_html(URL)
head(html_attr(html_nodes(pg, "a"), "href"))
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
head(html_attr(html_nodes(pg, "a"), "href"))
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<- data.frame(head(html_attr(html_nodes(pg, "a"), "href")))
View(asd)
library(RCurl)
getHTMLLinks('http://www.bvl.com.pe/includes/empresas_todas.dat')
install.packages("RCurl")
getHTMLLinks('http://www.bvl.com.pe/includes/empresas_todas.dat')
library(rvest)
url <- "http://oceantax.co.uk/links/tax-authorities-worldwide.html"
pg <- html(url)
pg <- read_html(url)
library(xml2)
library(rvest)
URL <- "http://stackoverflow.com/questions/3746256/extract-links-from-webpage-using-r"
pg <- read_html(URL)
head(html_attr(html_nodes(pg, "a"), "href"))
library(xml2)
library(rvest)
URL <- "http://stackoverflow.com/questions/3746256/extract-links-from-webpage-using-r"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "a"), "href"))
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "a"), "href"))
View(asd)
asd<- asd[grep("/ilan"),asd,]
View(asd)
asd<- asd[grep("/ilan"),asd]
asd<- asd[grep("/ilan",asd),]
print(asd)
asd<- data.frame(asd[grep("/ilan",asd),])
asd<-data.frame(html_attr(html_nodes(pg, "a"), "href"))
asd<- data.frame(asd[grep("/ilan",asd),])
View(asd)
asd<-data.frame(html_attr(html_nodes(pg, "a"), "href"))
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "href"))
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4.dib p8 list-title"), "href"))
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4.a"), "href"))
asd<-data.frame(html_attr(html_nodes(pg, "a"), "href"))
asd<-data.frame(html_attr(html_attr(html_nodes(pg, "h4"),"a") "href"))
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
View(asd)
url2 <- paste("https://www.tatilbudur.com/yurtici-otelleri?&page=5", sep="")
print(url2)
webpage2 <- read_html(url2)
total.found <- html_nodes(webpage2,'strong')
total.found.data <- html_text(total.found)[1]
link.data <- html_attr(html_nodes(webpage2, "a.img-link"), "href")[2:21]
link.data <- html_attr(html_nodes(pg, "h4.dib p8 list-title.a"), "href")[2:21]
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
link.data <- html_attr(html_nodes(pg, "h4.dib p8 list-title.a"), "href")[2:21]
link.data <- html_attr(html_nodes(pg, "h4.a"), "href")[2:21]
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")[2:21]
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
View(asd)
View(asd)
deduped.data <- unique( asd[ , 1 ]
deduped.data <- unique( asd[ , 1 ]
asd<-asd %>% distinct
asd<-asd %>% distinct
library(dplyr)
asd<-asd %>% distinct
View(asd)
grepl("ilan", asd, perl=TRUE)
grepl("ilan*", asd, perl=TRUE)
head(grepl("ilan*", asd, perl=TRUE))
grep("/ilan", asd, perl=TRUE, value=TRUE)
View(asd)
grep("/ilan*", asd, perl=TRUE, value=TRUE)
grep("ilan*", asd, perl=TRUE, value=TRUE)
View(asd)
asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
asd<- asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
asd<- data.frame(asd[grep("ilan", asd$link.data,ignore.case = TRUE), ])
asd<- data.frame(asd[grep("ilan", asd$link.data,ignore.case = TRUE) ])
head(asd[grep("ilan", asd$link.data,ignore.case = TRUE), ])
head(asd[grep("ilan", asd[,1],ignore.case = TRUE), ])
head(asd[grep("ilan", asd[1],ignore.case = TRUE), ])
head(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
asd <- data.frame(asd)
head(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
pg <- read_html(URL)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd <- data.frame(asd)
head(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
View(asd)
head(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
asd <- data.frame(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
asd <- data.frame(asd[grep("ilan", asd[1,],ignore.case = TRUE), ])
asd <- data.frame(asd[grep("ilan", asd[1,]), ])
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd <- data.frame(asd[grep("ilan", asd[1,]), ])
head(asd[grep("ilan", asd[,1],ignore.case = TRUE), ])
$link.data
asd<-
asd<- asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd<- asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
asd<- asd[grep("ilan", asd[1,],ignore.case = TRUE), ]
asd<- asd[grep("ilan", asd[1],ignore.case = TRUE), ]
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
View(asd)
asd<- asd[grep("/ilan", asd[1],ignore.case = TRUE), ]
asd<- data.frame(asd[grep("/ilan", asd[1],ignore.case = TRUE), ])
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd<- data.frame(asd[grep("/ilan", asd[1],ignore.case = TRUE), ])
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
asd[grep("ilan", asd$link.data,ignore.case = TRUE), ]
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd[grep("/ilan/", asd$link.data,ignore.case = TRUE), ]
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd <- asd[grep("/ilan/", asd$link.data,ignore.case = TRUE), ]
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
asd<-data.frame(html_attr(html_nodes(pg, "h4"), "a"))
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd <- data.frame(asd[grep("/ilan/", asd$link.data,ignore.case = TRUE), ])
View(asd)
library(xml2)
library(rvest)
URL <- "https://www.arabam.com/ikinci-el/otomobil?page=1"
pg <- read_html(URL)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
asd <- data.frame(link.data)
library(dplyr)
asd<-asd %>% distinct
asd <- data.frame(asd[grep("/ilan/", asd$link.data,ignore.case = TRUE), ])
library(xml2)
library(rvest)
library(ggmap)
library(grid)
library(stringi)
library(dplyr)
library(XML)
library(httr)
cars.all <- data.frame()
for (i in 1:50) {
url <- paste("https://www.arabam.com/ikinci-el/otomobil?page=",i, sep="")
pg <- read_html(url)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
links <- data.frame(link.data)
links <- links %>% distinct
links <- data.frame(links[grep("/ilan/", links$link.data,ignore.case = TRUE), ])
tables <- GET(url)
cars <- readHTMLTable(rawToChar(tables$content),which = 1)
cars[,1] <- NULL
cars<-na.omit(cars)
cars.all <- rbind(cars.all,cars)
cars.all <- cbind(cars.all,links)
}
names(cars.all)[2:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe")
cars.all[,c(7)]<-gsub("([A-Z])", " \\1", cars.all[,c(7)])
cars.all[,3]<-gsub("\\.", "", cars.all[,3])
cars.all[,3] <- as.numeric(cars.all[,3])
cars.all[,5]<-gsub("\\.", "", cars.all[,5])
cars.all[,5]<-gsub(" TL", "", cars.all[,5])
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,1] <- as.character(cars.all[,1])
cars.all$shortname <- stri_sub(cars.all[,c(1)],1,20)
latlon <- data.frame()
for (i in (1:nrow(cars.all))){
data2 <- geocode(as.character(cars.all[i,7]))
latlon <- rbind(data2,latlon)
}
cars.all <- cbind(cars.all,latlon)
library(xml2)
library(rvest)
library(ggmap)
library(grid)
library(stringi)
library(dplyr)
library(XML)
library(httr)
cars.all <- data.frame()
for (i in 1:50) {
url <- paste("https://www.arabam.com/ikinci-el/otomobil?page=",i, sep="")
pg <- read_html(url)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
links <- data.frame(link.data)
links <- links %>% distinct
links <- data.frame(links[grep("/ilan/", links$link.data,ignore.case = TRUE), ])
tables <- GET(url)
cars <- readHTMLTable(rawToChar(tables$content),which = 1)
cars.all <- rbind(cars.all,cars)
cars.all <- cbind(cars.all,links)
cars[,1] <- NULL
cars<-na.omit(cars)
}
names(cars.all)[2:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe")
cars.all[,c(7)]<-gsub("([A-Z])", " \\1", cars.all[,c(7)])
cars.all[,3]<-gsub("\\.", "", cars.all[,3])
cars.all[,3] <- as.numeric(cars.all[,3])
cars.all[,5]<-gsub("\\.", "", cars.all[,5])
cars.all[,5]<-gsub(" TL", "", cars.all[,5])
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,1] <- as.character(cars.all[,1])
cars.all$shortname <- stri_sub(cars.all[,c(1)],1,20)
latlon <- data.frame()
for (i in (1:nrow(cars.all))){
data2 <- geocode(as.character(cars.all[i,7]))
latlon <- rbind(data2,latlon)
}
cars.all <- cbind(cars.all,latlon)
View(cars.all)
library(xml2)
library(rvest)
library(ggmap)
library(grid)
library(stringi)
library(dplyr)
library(XML)
library(httr)
cars.all <- data.frame()
for (i in 1:50) {
url <- paste("https://www.arabam.com/ikinci-el/otomobil?page=",i, sep="")
pg <- read_html(url)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
links <- data.frame(link.data)
links <- links %>% distinct
links <- data.frame(links[grep("/ilan/", links$link.data,ignore.case = TRUE), ])
tables <- GET(url)
cars <- readHTMLTable(rawToChar(tables$content),which = 1)
cars[,1] <- NULL
cars<-na.omit(cars)
cars.all <- rbind(cars.all,cars)
cars.all <- cbind(cars.all,links)
}
names(cars.all)[2:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe")
cars.all[,c(7)]<-gsub("([A-Z])", " \\1", cars.all[,c(7)])
cars.all[,3]<-gsub("\\.", "", cars.all[,3])
cars.all[,3] <- as.numeric(cars.all[,3])
cars.all[,5]<-gsub("\\.", "", cars.all[,5])
cars.all[,5]<-gsub(" TL", "", cars.all[,5])
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,1] <- as.character(cars.all[,1])
cars.all$shortname <- stri_sub(cars.all[,c(1)],1,20)
latlon <- data.frame()
for (i in (1:nrow(cars.all))){
data2 <- geocode(as.character(cars.all[i,7]))
latlon <- rbind(data2,latlon)
}
cars.all <- cbind(cars.all,latlon)
View(cars.all)
library(xml2)
library(rvest)
library(ggmap)
library(grid)
library(stringi)
library(dplyr)
library(XML)
library(httr)
cars.all <- data.frame()
for (i in 1:50) {
url <- paste("https://www.arabam.com/ikinci-el/otomobil?page=",i, sep="")
pg <- read_html(url)
link.data <- html_attr(html_nodes(pg, "a.w100"), "href")
links <- data.frame(link.data)
links <- links %>% distinct
links <- data.frame(links[grep("/ilan/", links$link.data,ignore.case = TRUE), ])
tables <- GET(url)
cars <- readHTMLTable(rawToChar(tables$content),which = 1)
cars[,1] <- NULL
cars<-na.omit(cars)
cars <- cbind(cars,links)
cars.all <- rbind(cars.all,cars)
}
names(cars.all)[2:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe")
cars.all[,c(7)]<-gsub("([A-Z])", " \\1", cars.all[,c(7)])
cars.all[,3]<-gsub("\\.", "", cars.all[,3])
cars.all[,3] <- as.numeric(cars.all[,3])
cars.all[,5]<-gsub("\\.", "", cars.all[,5])
cars.all[,5]<-gsub(" TL", "", cars.all[,5])
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,1] <- as.character(cars.all[,1])
cars.all$shortname <- stri_sub(cars.all[,c(1)],1,20)
latlon <- data.frame()
for (i in (1:nrow(cars.all))){
data2 <- geocode(as.character(cars.all[i,7]))
latlon <- rbind(data2,latlon)
}
cars.all <- cbind(cars.all,latlon)
View(cars.all)
names(cars.all)[1:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe","links")
View(cars.all)
write.csv(file="cars.csv",cars.all)
getwd()
setwd("/home/eray/Desktop/webMining")
cars.all <- read.csv("cars.csv")
names(cars.all)[1:8]<-c("İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe","links")
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,2] <- as.character(cars.all[,2])
library(shiny); runApp('webproject.R')
runApp('webproject.R')
View(cars.all)
names(cars.all)[1:9]<-c("No","İlan Başlığı","Yıl","Kilometre","Renk","Fiyat","Tarih","İl / İlçe","links")
cars.all <- read.csv("cars.csv")
cars.all[,5] <- as.numeric(cars.all[,5])
cars.all[,2] <- as.character(cars.all[,2])
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
cars.all[,8] <- as.character(cars.all[,8])
cars.all[,9] <- as.character(cars.all[,9])
cars.all[,9] <- as.character(cars.all[,9])
cars.all[,10] <- as.character(cars.all[,10])
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
shiny::a("something", href="www.something.com")
runApp('webproject.R')
View(cars.all)
runApp('webproject.R')
aaa <- paste('<a href="https://www.arabam.com',cars.all$links, '">Go Website</a>')
print(aaa)
aaa <- paste('<a href="https://www.arabam.com',cars.all$links, '">Go Website</a>',sep="\")
print(aaa)
shiny::a("something", href=paste("https://www.arabam.com/",cars.all$links))
runApp('webproject.R')
runApp('webproject.R')
runApp('webproject.R')
